<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<title>تفاصيل الخبر - راميا نيوز</title>
<link rel="stylesheet" href="../style.css">
</head>
<body>
<header>
  <nav aria-label="الرئيسي">
    <a class="nav-link" href="highlights.html">الأخبار الهامة</a>
    <a class="nav-link" href="urgent.html">العواجل</a>
    <a class="nav-link" href="local.html">محليات</a>
    <a class="nav-link" href="international.html">إقليمي ودولي</a>
    <a class="nav-link" href="economy.html">اقتصاد</a>
    
    <a class="brand" href="../index.html"><span class="brand-text">RAMYAH NEWS</span></a>
  </nav>
</header>
<main style="max-width:900px;margin:18px auto;padding:18px">
  <div id="article"></div>
</main>
<script>
const params = new URLSearchParams(location.search);
const id = params.get('id');
const STORAGE_KEY = 'ramya_articles_local';
async function findArticle(){
  const res = await fetch('../data/articles.json').catch(()=>null);
  const file = res ? await res.json().catch(()=>[]) : [];
  const local = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
  const items = [...local, ...file]; // local first so it overrides if duplicate id
  return items.find(a=>String(a.id)===String(id));
}
(async ()=>{
  const a = await findArticle();
  const el = document.getElementById('article');
  if(!a){ el.innerHTML = '<p>لم يتم العثور على الخبر.</p>'; return; }
  el.innerHTML = `
    <article>
      <img src="${a.image||'https://via.placeholder.com/900x500'}" style="width:100%;height:auto;border-radius:8px">
      <h2>${a.title}</h2>
      <p><small>${new Date(a.date).toLocaleString('ar-EG')} • ${a.category}</small></p>
      <div style="margin-top:12px;line-height:1.7">${a.content}</div>
    </article>
  `;
})();
</script>
</body>
</html>